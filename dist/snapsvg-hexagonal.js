"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.hexagonal=a()}})(function(){var a=Math.PI,b=Math.sin,c=Math.cos;return function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++)a(e[f]);return a}({1:[function(a,b){"use strict";function c(a){return Array(a).fill(0).map(function(a,b){return b})}var d=Date.now;b.exports={debounce:function(a,b,c){var e,f,g,h,i,j=function(){var k=d()-h;k<b&&0<=k?e=setTimeout(j,b-k):(e=null,!c&&(i=a.apply(g,f),!e&&(g=f=null)))};return function(){g=this,f=arguments,h=d();var k=c&&!e;return e||(e=setTimeout(j,b)),k&&(i=a.apply(g,f),g=f=null),i}},isTouch:function(){return!!("ontouchstart"in window)||0<window.navigator.msMaxTouchPoints},range:c,zip:function(d,a){return c(d.length).map(function(b,c){return[d[c],a[c]]})}}},{}],2:[function(d,e){"use strict";var f=d("./common"),g=f.zip;e.exports=function(d,e,f){e=e||0,f=f||0;var h=a/6,i=d*b(h),j=d*c(h),k=[0,j,2*j,2*j,j,0].map(function(a){return a+e}),l=[i,0,i,i+d,2*i+d,i+d].map(function(a){return a+f}),m=g(k,l);return this.addClass("hexagon").polygon(m)}},{"./common":1}],3:[function(d){"use strict";var e=Object.assign,f=Math.ceil,g=d("./common"),h=g.debounce,i=g.isTouch,j=g.zip,k=d("./hexagon"),l={style:"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;"};Snap.plugin(function(d,g,m){var n=function(a){return a.preventDefault()},o=function(a){return{transform:"translateX("+a+")"}};m.prototype.hexagon=k,m.prototype.hexabar=function(d){var g=d.sideLength,h=d.reverse,k=d.width,m=d.x,n=d.y;m=m||0,n=n||0;var o,p,q={fill:"#222",stroke:"#222",strokeWidth:"1px"},r={cursor:"pointer",fill:"#FFF",stroke:"#333"},s=4,t=a/6,u=g*b(t),v=g*c(t),x=g/2,y=g+u,z=k-v,w=f(k/2)+x,A=y/2+x/s;h?(o=[0,v+z,2*v+z,2*v+z,v+0,0],p=[0,0,u,u+g,u+g,0+g]):(o=[0,v+0,2*v+z,2*v+z,v+z,0],p=[u,0,0,0+g,u+g,u+g]);var B=j(o.map(function(a){return a+m}),p.map(function(a){return a+n})),C=r.fill,D=this.text(m,n,d.title).addClass("menu-item-title").attr({x:"+="+w,y:"+="+A,fill:C,fontSize:x,textAnchor:"middle"}),E=this.text(m,n,d.subtitle).addClass("menu-item-subtitle").attr({x:m+v,y:"+="+(A+x/2),fill:C,fontSize:x*0.7,textAnchor:"middle",opacity:0}),F=this.polygon(B).attr(q),G=e(this.group(F,D,E),{bar:F,width:k,height:y,title:D,subTitle:E,hoverAnimationDisabled:!1});G.addClass("hexabar menu-item").attr(l),i()&&G.addClass("touch");var H=function(){if(G.hasClass("disabled")||G.hasClass("active")||G.focus(),!G.hoverAnimationDisabled&&0<E.attr("text").length){D.animate({fontSize:x*0.8,y:n+A-x/s},100),E.animate({opacity:1,x:m+w},100)}},I=function(){G.blur()};return G.enableHoverAnimation=function(){return G.hoverAnimationDisabled=!1,G.hover(H,I),G},G.disableHoverAnimation=function(){return G.hoverAnimationDisabled=!0,G.unhover(H,I),G},G.enable=function(){G.removeClass("active").removeClass("disabled").attr({opacity:1}).enableHoverAnimation().blur()},G.disable=function(){["bar","title","subTitle"].forEach(function(a){e(G[a].node.style,{cursor:"default"})}),G.addClass("disabled").attr({opacity:0.8}).disableHoverAnimation()},G.focus=function(){e(G.bar.node.style,e({},q,r));var a=r.stroke;return["bar","title","subTitle"].forEach(function(a){e(G[a].node.style,{cursor:"pointer"})}),G.title.node.style.fill=a,G.subTitle.node.style.fill=a,G},G.blur=function(){return e(G.bar.node.style,q),G.title.node.style.fill="#FFF",!G.hoverAnimationDisabled&&0<E.attr("text").length&&(G.title.animate({fontSize:x,y:n+A},100),G.subTitle.animate({opacity:0,x:m+v},100)),G},G.enableHoverAnimation(),G},m.prototype.hexamenu=function(f,g){function i(a){return 0<a?a*(y+C*A)+(a-1)*D:-D}function j(){return v=f.map(function(a,b){var c=Array.isArray(f[b].submenu)&&0<f[b].submenu.length;return a.sideLength=y,a.width=z,a.x=0-G,a.y=D+b*(F+A+2*x),a.level=c?0:0,u.hexabar(a)}),v}function k(){t("before:reset",{menu:u}),v.forEach(function(a){0<a.submenu.length&&(a.submenu.forEach(function(a){a.remove()}),a.submenu=[]),a.isActive=!1;var b=u.visible?H:-H,c=u.visible?H:-H;d.animate(b,c,function(b){a.attr(o(b))},50,mina.linear,function(){a.enable(),p(a),a.index===v.length-1&&t("reset",{menu:u})})})}function l(a){u.visible||v.forEach(function(b,c){setTimeout(function(){d.animate(0,H,function(a){b.attr(o(a))},a,mina.easein,function(){c===f.length-1?(u.visible=!0,t("show",{menu:u})):0===c&&t("before:show",{menu:u})})},a/2*c)})}function m(a){var b=e(a,{isActive:!0,submenu:[]});b.addClass("active").disableHoverAnimation();var c=b.index,g=D+c*(F+A+2*x);f[b.index].submenu.forEach(function(a,c){b.submenu.push(u.hexabar({title:a.title,subtitle:a.subtitle,sideLength:y,width:z,x:H-E+0*x+0*E-2*A+H,y:g+i(c+1),level:0}).attr("opacity",0))});var h=50;b.submenu.forEach(function(a,c){a.index=c;var g={menu:u,parent:b,target:a},i="click:"+b.index+":",j=function(){t("click:child",g),t(i+"child",g),t(i+c,g)};setTimeout(function(){e(a.node,{oncontextmenu:n,onclick:j,ontouchstart:j}),a.attr("opacity",1),d.animate(0,-H,function(b){return a.attr(o(b))},h,mina.easein,function(){f[c].submenu&&c===f[c].submenu.length-1&&t("show:submenu",g)})},h*c)}),v.filter(function(a,c){return c!==b.index}).forEach(function(a){d.animate(H,G+A+x,function(b){return a.attr(o(b))},h,mina.linear,function(){a.disable(),q(a)})})}function p(a){a.node.onclick=I.bind(a),a.node.ontouchstart=I.bind(a),a.node.onmousedown=a.focus}function q(a){a.node.onclick=n,a.node.ontouchstart=n,a.node.onmousedown=n}function r(a){var b;v.slice(0).reverse().forEach(function(c,e){b=a+a/2*e,d.animate(H,0,function(a){c.attr(o(a))},b,mina.backout,function(){var a=u;e===f.length-1?(u.visible=!1,t("hide",{menu:a})):0===e&&t("before:hide",{menu:a})})})}function s(a){k.bind(u)(),r.bind(u)(a)}function t(a,b){var c;window.CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,b)),u.node.dispatchEvent(c)}var u=this;u.visible=!1;var v=[],w=g.duration?g.duration:100,x=1,y=g.sideLength,z=g.width,A=4,B=a/6,C=1.4142135623730951,D=y*b(B),E=y*c(B),F=y+D,G=z+E+2*A+2*x,H=G+E+2*A,I=function(a){a.preventDefault();var b=v[this.index];t("click:"+b.index,{menu:u,parent:null,target:b}),b.isActive?k.bind(u)():b.hasSubmenu&&(b.blur(),m(b))};(function(){j().forEach(function(a,b){a.submenu=[],a.index=b,a.hasSubmenu=Array.isArray(f[b].submenu)&&0<f[b].submenu.length,a.node.onblur=n,a.node.oncontextmenu=n,p(a)})})();return{isVisible:function isVisible(){return u.visible},on:function on(a,b){return u.node.addEventListener(a,b)},off:function off(a,b){return u.node.removeEventListener(a,b)},buttons:v,toggle:h(function(){u.visible?s.bind(u)(w):l.bind(u)(w)},w*2.5,!0),reset:k}}})},{"./common":1,"./hexagon":2}]},{},[3])(3)});
