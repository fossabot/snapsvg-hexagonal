"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.hexagonal=a()}})(function(){return function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++)a(e[f]);return a}({1:[function(a,b){"use strict";function c(){return new Date().getTime()}b.exports={now:c,debounce:function(a,b,d){var e,f,g,h,i,j=function(){var k=c()-h;k<b&&0<=k?e=setTimeout(j,b-k):(e=null,!d&&(i=a.apply(g,f),!e&&(g=f=null)))};return function(){g=this,f=arguments,h=c();var k=d&&!e;return e||(e=setTimeout(j,b)),k&&(i=a.apply(g,f),g=f=null),i}}}},{}],2:[function(a){"use strict";var b=a("./common"),c=b.debounce;Snap.plugin(function(a,b,d){function e(a){a.preventDefault()}function f(a){return{transform:"translateX("+a+")"}}function g(a){return JSON.parse(JSON.stringify(a))}function h(c,a){return Object.keys(a).forEach(function(b){c[b]=a[b]}),c}function i(){return!!("ontouchstart"in window)||0<window.navigator.msMaxTouchPoints}var j=Math.PI,k=Math.sin,l=Math.cos,m={style:"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;"};d.prototype.hexagon=function(a,b,c){b=b?b:0,c=c?c:0;var d=a,e=j/6,f=d*k(e),g=d*l(e),h=[0,g,2*g,2*g,g,0],m=[f,0,f,f+d,2*f+d,f+d],i=h.map(function(a,d){return[h[d]+b,m[d]+c]});return this.polygon(i).addClass("hexagon")},d.prototype.hexabar=function(a){var b,c,d={fill:"#222",stroke:"#222",strokeWidth:"1px"},e={cursor:"pointer",fill:"#FFF",stroke:"#333"},f=a.sideLength,n=f/2,o=4,p=j/6,q=f*k(p),r=f*l(p),s=a.x?a.x:0,t=a.y?a.y:0,u=a.width,v=f+q,x=u-r,w=Math.ceil(u/2)+n,y=v/2+n/o;a.reverse?(b=[0,r+x,2*r+x,2*r+x,r+0,0],c=[0,0,q,q+f,q+f,0+f]):(b=[0,r+0,2*r+x,2*r+x,r+x,0],c=[q,0,0,0+f,q+f,q+f]);var z=this.text(s,t,a.title).addClass("menu-item-title").attr({x:"+="+w,y:"+="+y,fill:e.fill,fontSize:n,textAnchor:"middle"}),A=this.text(s,t,a.subtitle).addClass("menu-item-subtitle").attr({x:s+r,y:"+="+(y+n/2),fill:e.fill,fontSize:n*0.7,textAnchor:"middle",opacity:0}),B=b.map(function(a,d){return[b[d]+s,c[d]+t]}),C=this.polygon(B).attr(d),D=this.group(C,z,A);D.addClass("hexabar menu-item"),D.attr(m),i()&&D.addClass("touch"),D.hoverAnimationDisabled=!1,D.title=z,D.subTitle=A,D.height=v,D.width=u,D.bar=C;var E=function(){if(D.hasClass("disabled")||D.hasClass("active")||D.focus(),!D.hoverAnimationDisabled&&0<A.attr("text").length){z.animate({fontSize:n*0.8,y:t+y-n/o},100),A.animate({opacity:1,x:s+w},100)}},F=function(){D.blur()};return D.enableHoverAnimation=function(){return D.hoverAnimationDisabled=!1,D.hover(E,F),D},D.disableHoverAnimation=function(){return D.hoverAnimationDisabled=!0,D.unhover(E,F),D},D.enable=function(){D.removeClass("active").removeClass("disabled").attr({opacity:1}).enableHoverAnimation().blur()},D.disable=function(){D.bar.node.style.cursor="default",D.title.node.style.cursor="default",D.subTitle.node.style.cursor="default";D.addClass("disabled").attr("opacity",0.8).disableHoverAnimation()},D.focus=function(){return h(D.bar.node.style,h(g(d),e)),D.bar.node.style.cursor="pointer",D.title.node.style.cursor="pointer",D.title.node.style.fill=e.stroke,D.subTitle.node.style.cursor="pointer",D.subTitle.node.style.fill=e.stroke,D},D.blur=function(){return h(D.bar.node.style,d),D.title.node.style.fill="#FFF",!D.hoverAnimationDisabled&&0<A.attr("text").length&&(D.title.animate({fontSize:n,y:t+y},100),D.subTitle.animate({opacity:0,x:s+r},100)),D},D.enableHoverAnimation(),D},d.prototype.hexamenu=function(b,d){function g(a){return 0<a?a*(x+B*z)+(a-1)*C:-C}function h(){return u=b.map(function(a,c){var d=Array.isArray(b[c].submenu)&&0<b[c].submenu.length;return a.sideLength=x,a.width=y,a.x=0-F,a.y=C+c*(E+z+2*w),a.level=d?0:0,t.hexabar(a)}),u}function i(){s("before:reset",{menu:t}),u.forEach(function(b){0<b.submenu.length&&(b.submenu.forEach(function(a){a.remove()}),b.submenu=[]),b.isActive=!1;var c=t.visible?G:-G,d=t.visible?G:-G;a.animate(c,d,function(a){b.attr(f(a))},50,mina.linear,function(){b.enable(),o(b),b.index===u.length-1&&s("reset",{menu:t})})})}function m(c){t.visible||u.forEach(function(d,e){setTimeout(function(){a.animate(0,G,function(a){d.attr(f(a))},c,mina.easein,function(){e===b.length-1?(t.visible=!0,s("show",{menu:t})):0===e&&s("before:show",{menu:t})})},c/2*e)})}function n(c){var d=c;d.isActive=!0,d.addClass("active"),d.submenu=[],d.disableHoverAnimation();var h=d.index,i=C+h*(E+z+2*w);b[d.index].submenu.forEach(function(a,b){d.submenu.push(t.hexabar({title:a.title,subtitle:a.subtitle,sideLength:x,width:y,x:G-D+0*w+0*D-2*z+G,y:i+g(b+1),level:0}).attr("opacity",0))});var j=50;d.submenu.forEach(function(c,g){function h(){s("click:child",i),s(k+"child",i),s(k+g,i)}c.index=g;var i={menu:t,parent:d,target:c},k="click:"+d.index+":";setTimeout(function(){c.node.oncontextmenu=e,c.node.onclick=h,c.node.ontouchstart=h,c.attr("opacity",1),a.animate(0,-G,function(a){c.attr(f(a))},j,mina.easein,function(){b[g].submenu&&g===b[g].submenu.length-1&&s("show:submenu",i)})},j*g)}),u.filter(function(a,b){return b!==d.index}).forEach(function(b){a.animate(G,F+z+w,function(a){b.attr(f(a))},j,mina.linear,function(){b.disable(),p(b)})})}function o(a){a.node.onclick=H.bind(a),a.node.ontouchstart=H.bind(a),a.node.onmousedown=a.focus}function p(a){a.node.onclick=e,a.node.ontouchstart=e,a.node.onmousedown=e}function q(c){var d;u.slice(0).reverse().forEach(function(e,g){d=c+c/2*g,a.animate(G,0,function(a){e.attr(f(a))},d,mina.backout,function(){g===b.length-1?(t.visible=!1,s("hide",{menu:t})):0===g&&s("before:hide",{menu:t})})})}function r(a){i.bind(t)(),q.bind(t)(a)}function s(a,b){var c;window.CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,b)),t.node.dispatchEvent(c)}var t=this;t.visible=!1;var u=[],v=d.duration?d.duration:100,w=1,x=d.sideLength,y=d.width,z=4,A=j/6,B=1.4142135623730951,C=x*k(A),D=x*l(A),E=x+C,F=y+D+2*z+2*w,G=F+D+2*z,H=function(a){a.preventDefault();var b=u[this.index];s("click:"+b.index,{menu:t,parent:null,target:b}),b.isActive?i.bind(t)():b.hasSubmenu&&(b.blur(),n(b))};(function(){h().forEach(function(a,c){a.submenu=[],a.index=c,a.hasSubmenu=Array.isArray(b[c].submenu)&&0<b[c].submenu.length,a.node.onblur=e,a.node.oncontextmenu=e,o(a)})})();return{isVisible:function isVisible(){return t.visible},on:function on(a,b){t.node.addEventListener(a,b)},off:function off(a,b){t.node.removeEventListener(a,b)},buttons:u,toggle:c(function(){t.visible?r.bind(t)(v):m.bind(t)(v)},v*2.5,!0),reset:i}}})},{"./common":1}]},{},[2])(2)});
